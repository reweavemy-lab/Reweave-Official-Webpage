<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
        <link rel="icon" type="image/x-icon" href="/Users/howiesim/Documents/Reweave Official Webpage/images/Reweave logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop - Reweave</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Shop Page Specific Styles */
        .shop-container {
            padding: 120px 0 80px;
        }
        
        .shop-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .shop-header h1 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .shop-header p {
            max-width: 700px;
            margin: 0 auto;
            color: var(--earth-brown);
        }
        
        .shop-layout {
            display: flex;
            gap: 30px;
        }
        
        .filter-sidebar {
            flex: 0 0 250px;
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            align-self: flex-start;
            position: sticky;
            top: 100px;
        }
        
        .filter-group {
            margin-bottom: 25px;
        }
        
        .filter-group h3 {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: var(--primary);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .filter-option {
            margin-bottom: 10px;
        }
        
        .filter-option label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .filter-option input {
            margin-right: 10px;
        }
        
        .products-grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
        }
        
        .product-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-img {
            height: 250px;
            overflow: hidden;
            position: relative;
        }
        
        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .product-card:hover .product-img img {
            transform: scale(1.1);
        }
        
        .quick-actions {
            position: absolute;
            bottom: 15px;
            right: 15px;
            display: flex;
            gap: 10px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .product-card:hover .quick-actions {
            opacity: 1;
        }
        
        .quick-action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
        }
        
        .quick-action-btn:hover {
            background-color: var(--accent);
            color: white;
        }
        
        .product-info {
            padding: 20px;
        }
        
        .product-name {
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: var(--primary);
        }
        
        .product-material {
            font-size: 0.9rem;
            color: var(--earth-brown);
            margin-bottom: 10px;
        }
        
        .product-price {
            font-weight: 600;
            color: var(--primary);
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 50px;
            gap: 10px;
        }
        
        .pagination a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
        }
        
        .pagination a.active {
            background-color: var(--primary);
            color: white;
        }
        
        .pagination a:hover:not(.active) {
            background-color: #f0f0f0;
        }
        
        /* Shop Controls */
        .shop-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .search-container {
            position: relative;
            flex: 1;
            max-width: 400px;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--earth-brown);
        }
        
        .view-controls {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .sort-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .sort-container label {
            font-weight: 500;
            color: var(--primary);
        }
        
        .sort-select {
            padding: 8px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background-color: white;
            font-size: 0.9rem;
            cursor: pointer;
        }
        
        .view-toggle {
            display: flex;
            gap: 5px;
        }
        
        .view-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #e0e0e0;
            background-color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .view-btn.active,
        .view-btn:hover {
            border-color: var(--primary);
            background-color: var(--primary);
            color: white;
        }
        
        .results-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px 0;
            border-top: 1px solid #e0e0e0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .breadcrumb {
            font-size: 0.9rem;
            color: var(--earth-brown);
        }
        
        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        /* Enhanced Product Cards */
        .product-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .product-badge:not(.new):not(.sale) {
            background-color: var(--accent);
            color: white;
        }
        
        .product-badge.new {
            background-color: #28a745;
            color: white;
        }
        
        .product-badge.sale {
            background-color: #dc3545;
            color: white;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 8px 0;
        }
        
        .stars {
            display: flex;
            gap: 2px;
        }
        
        .stars i {
            font-size: 0.9rem;
            color: #ffc107;
        }
        
        .rating-count {
            font-size: 0.8rem;
            color: var(--earth-brown);
        }
        
        .product-price {
            margin: 10px 0;
        }
        
        .current-price {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .original-price {
            font-size: 1rem;
            color: #999;
            text-decoration: line-through;
            margin-left: 8px;
        }
        
        .product-sustainability {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            color: #28a745;
            margin-top: 8px;
        }
        
        .product-sustainability i {
            font-size: 0.9rem;
        }
        
        /* List View Styles */
        .products-grid.list-view {
            display: block;
        }
        
        .products-grid.list-view .product-card {
            display: flex;
            margin-bottom: 20px;
            max-width: none;
        }
        
        .products-grid.list-view .product-img {
            flex: 0 0 200px;
            height: 150px;
        }
        
        .products-grid.list-view .product-info {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .products-grid.list-view .product-name {
            font-size: 1.3rem;
        }
        
        .products-grid.list-view .product-material {
            font-size: 1rem;
        }
        
        .products-grid.list-view .product-price {
            font-size: 1.3rem;
        }
        
        /* Loading State */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            font-size: 1.1rem;
            color: var(--earth-brown);
        }
        
        .loading i {
            margin-right: 10px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* No Results */
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: var(--earth-brown);
        }
        
        .no-results i {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #ddd;
        }
        
        .no-results h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        @media (max-width: 992px) {
            .shop-layout {
                flex-direction: column;
            }
            
            .filter-sidebar {
                flex: 0 0 auto;
                position: static;
                margin-bottom: 30px;
            }
            
            .shop-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-container {
                max-width: none;
            }
            
            .view-controls {
                justify-content: space-between;
            }
            
            .results-info {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
        
        @media (max-width: 768px) {
            .products-grid.list-view .product-card {
                flex-direction: column;
            }
            
            .products-grid.list-view .product-img {
                flex: 0 0 auto;
                height: 200px;
            }
        }
        /* Cart Drawer */
        .cart-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(2px); display: none; z-index: 999; }
        .cart-backdrop.show { display: block; }
        .cart-drawer { position: fixed; right: 0; top: 0; height: 100%; width: 360px; max-width: 90vw; background: #fff; box-shadow: -8px 0 24px rgba(0,0,0,0.08); transform: translateX(100%); transition: transform 0.25s ease; z-index: 1000; display: flex; flex-direction: column; }
        .cart-drawer.open { transform: translateX(0); }
        .cart-drawer header { padding: 16px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .cart-drawer header h3 { margin: 0; font-size: 1.1rem; letter-spacing: .02em; }
        .cart-drawer header button { background: none; border: none; font-size: 1.2rem; cursor: pointer; }
        .cart-items { flex: 1; overflow: auto; padding: 12px 16px; }
        .cart-item { display: grid; grid-template-columns: 64px 1fr auto; gap: 12px; align-items: center; padding: 10px 0; border-bottom: 1px solid #f2f2f2; }
        .cart-item img { width: 64px; height: 64px; object-fit: cover; border-radius: 8px; }
        .cart-item h4 { margin: 0; font-size: .95rem; }
        .cart-item .options { color: #777; font-size: .85rem; margin-top: 4px; }
        .cart-item .qty { color: #555; font-size: .85rem; }
        .cart-item .price { font-weight: 600; }
        .cart-footer { border-top: 1px solid #eee; padding: 16px; }
        .cart-total { display: flex; justify-content: space-between; margin-bottom: 12px; font-weight: 600; }
        .cart-actions { display: flex; gap: 10px; }
        .btn-primary { background: #111; color: #fff; border: none; padding: 10px 12px; border-radius: 8px; cursor: pointer; }
        .btn-secondary { background: #fff; color: #111; border: 1px solid #e0e0e0; padding: 10px 12px; border-radius: 8px; cursor: pointer; }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="luxury-header">
        <div class="header-container">
            <!-- Left: Menu & Search -->
            <div class="header-left">
                <button class="menu-btn" aria-label="Menu">
                    <i class="fas fa-bars"></i>
                    <span>Menu</span>
                </button>
                <button class="search-btn" aria-label="Search">
                    <i class="fas fa-search"></i>
                    <span>Search</span>
                </button>
            </div>
            <!-- Center: Logo -->
            <div class="logo-center">
                <a href="/onepage.html">REWEAVE</a>
            </div>
            <!-- Right: Utilities -->
            <div class="header-right">
                <button class="utility-btn" aria-label="Call Us"><span>Call Us</span></button>
                <button class="utility-btn" aria-label="Wishlist"><i class="fas fa-heart"></i></button>
                <button class="utility-btn" aria-label="Account"><i class="fas fa-user"></i></button>
                <button class="utility-btn cart-btn" aria-label="Cart"><i class="fas fa-shopping-bag"></i><span class="cart-count">0</span></button>
            </div>
        </div>
        <!-- Hidden Navigation Menu -->
        <nav class="hidden-nav">
            <div class="nav-content">
                <button class="close-nav" aria-label="Close">
                    <i class="fas fa-times"></i>
                    <span>Close</span>
                </button>
                <div class="nav-categories">
                    <div class="nav-section">
                        <h3>New</h3>
                        <ul>
                            <li><a href="index.html">Latest Arrivals</a></li>
                            <li><a href="index.html">Limited Edition</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>Bags and Accessories</h3>
                        <ul>
                            <li><a href="index.html">Totes</a></li>
                            <li><a href="index.html">Slings</a></li>
                            <li><a href="index.html">Accessories</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>Collections</h3>
                        <ul>
                            <li><a href="index.html">Batik Heritage</a></li>
                            <li><a href="index.html">Artisan Series</a></li>
                        </ul>
                    </div>
                    <div class="nav-section">
                        <h3>About</h3>
                        <ul>
                            <li><a href="../story/index.html">Our Story</a></li>
                            <li><a href="../community/index.html">Community</a></li>
                            <li><a href="../impact/index.html">Impact</a></li>
                            <li><a href="../journal/index.html">Journal</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Cart Drawer -->
    <div class="cart-backdrop" id="cart-backdrop"></div>
    <aside class="cart-drawer" id="cart-drawer" aria-hidden="true">
      <header>
        <h3>Your Bag</h3>
        <button id="cart-close" aria-label="Close">&times;</button>
      </header>
      <div class="cart-items" id="cart-items"></div>
      <div class="cart-footer">
        <div class="cart-total"><span>Subtotal</span><span id="cart-subtotal">RM 0.00</span></div>
        <div class="cart-actions">
          <a class="btn-secondary" href="../cart/index.html">View Cart</a>
          <a class="btn-primary" href="../cart/index.html">Checkout</a>
        </div>
      </div>
    </aside>

    <!-- Search Overlay -->
    <div class="search-overlay" aria-hidden="true">
        <div class="search-panel">
            <div class="search-header">
                <button class="search-close" aria-label="Close Search">
                    <i class="fas fa-times"></i>
                </button>
                <h3>Search</h3>
            </div>
            <div class="search-body">
                <div class="search-input-wrap">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search products, stories, categories..." aria-label="Search input" />
                </div>
                <div class="search-suggestions">
                    <p>Popular searches:</p>
                    <div class="tags">
                        <a href="index.html">Batik</a>
                        <a href="index.html">Handbags</a>
                        <a href="index.html">Artisan</a>
                        <a href="../journal/index.html">Journal</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="search-backdrop"></div>
    </div>

    <!-- Shop Section -->
    <section class="shop-container">
        <div class="container">
            <div class="shop-header">
                <h1>Shop Collection</h1>
                <p>Discover our handcrafted, sustainable products made with love by skilled artisans.</p>
                
                <!-- Search and Controls -->
                <div class="shop-controls">
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="Search products..." class="search-input">
                        <i class="fas fa-search search-icon"></i>
                    </div>
                    <div class="view-controls">
                        <div class="sort-container">
                            <label for="sort-select">Sort by:</label>
                            <select id="sort-select" class="sort-select">
                                <option value="featured">Featured</option>
                                <option value="price-low">Price: Low to High</option>
                                <option value="price-high">Price: High to Low</option>
                                <option value="newest">Newest First</option>
                                <option value="popular">Most Popular</option>
                            </select>
                        </div>
                        <div class="view-toggle">
                            <button class="view-btn active" data-view="grid" title="Grid View">
                                <i class="fas fa-th"></i>
                            </button>
                            <button class="view-btn" data-view="list" title="List View">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Results Info -->
                <div class="results-info">
                    <span id="results-count">6 products found</span>
                    <div class="breadcrumb">
                        <a href="../../index.html">Home</a> > <span>Shop</span>
                    </div>
                </div>
            </div>
            
            <div class="shop-layout">
                <!-- Filter Sidebar -->
                <div class="filter-sidebar">
                    <form id="filter-form">
                        <div class="filter-group">
                            <h3>Collection</h3>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="collection" value="all" checked>
                                    All Collections
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="collection" value="summer">
                                    Summer 2023
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="collection" value="artisan">
                                    Artisan Series
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="collection" value="heritage">
                                    Heritage Line
                                </label>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <h3>Material</h3>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="material" value="all" checked>
                                    All Materials
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="material" value="cotton">
                                    Reclaimed Cotton
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="material" value="hemp">
                                    Hemp Blend
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="material" value="bamboo">
                                    Bamboo Fiber
                                </label>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <h3>Color</h3>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="color" value="all" checked>
                                    All Colors
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="color" value="natural">
                                    Natural
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="color" value="indigo">
                                    Indigo
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="color" value="earth">
                                    Earth Tones
                                </label>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <h3>Use Case</h3>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="use-case" value="all" checked>
                                    All Use Cases
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="use-case" value="work">
                                    Work
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="use-case" value="life">
                                    Life
                                </label>
                            </div>
                            <div class="filter-option">
                                <label>
                                    <input type="radio" name="use-case" value="play">
                                    Play
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
                
                <!-- Products Grid -->
                <div class="products-grid" id="products-grid">
                    <!-- Product 1 -->
                    <div class="product-card" data-collection="artisan" data-material="cotton" data-color="natural" data-use-case="life">
                        <div class="product-img">
                            <a href="configure.html"><img src="/Users/howiesim/Documents/Reweave Official Webpage/images/Gemini_Generated_Image_j8e9c1j8e9c1j8e9.png" alt="Artisan Tote"></a>
                            <div class="quick-actions">
                                <a href="../tryon/index.html" class="quick-action-btn" title="Try On">
                                    <i class="fas fa-tshirt"></i>
                                </a>
                                <a href="#" class="quick-action-btn" title="Add to Wishlist">
                                    <i class="far fa-heart"></i>
                                </a>
                            </div>
                        </div>
                        <div class="product-info">
                            <div class="product-badge">Best Seller</div>
                            <h3 class="product-name">Reweave Tote</h3>
                            <p class="product-material">Reclaimed Cotton</p>
                            <div class="product-rating">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="rating-count">(24)</span>
                            </div>
                            <div class="product-price">
                                <span class="current-price">$89.00</span>
                                <span class="original-price">$120.00</span>
                            </div>
                            <div class="product-sustainability">
                                <i class="fas fa-leaf"></i>
                                <span>500g waste saved</span>
                            </div>
                            <div class="item-actions" style="display:flex;gap:10px;margin-top:12px;">
                              <a href="configure.html" class="item-btn primary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#111;color:#fff;">Add to Bag</a>
                              <a href="configure.html" class="item-btn secondary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#fff;color:#111;border:1px solid #e0e0e0;">Customize</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 2 -->
                    <div class="product-card" data-collection="heritage" data-material="hemp" data-color="indigo" data-use-case="work">
                        <div class="product-img">
                            <a href="configure.html"><img src="https://images.unsplash.com/photo-1590874103328-eac38a683ce7?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="Heritage Backpack"></a>
                            <div class="quick-actions">
                                <a href="../tryon/index.html" class="quick-action-btn" title="Try On">
                                    <i class="fas fa-tshirt"></i>
                                </a>
                                <a href="#" class="quick-action-btn" title="Add to Wishlist">
                                    <i class="far fa-heart"></i>
                                </a>
                            </div>
                        </div>
                        <div class="product-info">
                            <div class="product-badge new">New</div>
                            <h3 class="product-name">Heritage Backpack</h3>
                            <p class="product-material">Hemp Blend</p>
                            <div class="product-rating">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                                <span class="rating-count">(18)</span>
                            </div>
                            <div class="product-price">
                                <span class="current-price">$129.00</span>
                            </div>
                            <div class="product-sustainability">
                                <i class="fas fa-leaf"></i>
                                <span>750g waste saved</span>
                            </div>
                            <div class="item-actions" style="display:flex;gap:10px;margin-top:12px;">
                              <a href="configure.html" class="item-btn primary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#111;color:#fff;">Add to Bag</a>
                              <a href="configure.html" class="item-btn secondary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#fff;color:#111;border:1px solid #e0e0e0;">Customize</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 3 -->
                    <div class="product-card" data-collection="summer" data-material="bamboo" data-color="earth" data-use-case="play">
                        <div class="product-img">
                            <a href="configure.html"><img src="https://images.unsplash.com/photo-1544816155-12df9643f363?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="Summer Crossbody"></a>
                            <div class="quick-actions">
                                <a href="../tryon/index.html" class="quick-action-btn" title="Try On">
                                    <i class="fas fa-tshirt"></i>
                                </a>
                                <a href="#" class="quick-action-btn" title="Add to Wishlist">
                                    <i class="far fa-heart"></i>
                                </a>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">Summer Crossbody</h3>
                            <p class="product-material">Bamboo Fiber</p>
                            <div class="product-rating">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="rating-count">(31)</span>
                            </div>
                            <div class="product-price">
                                <span class="current-price">$79.00</span>
                            </div>
                            <div class="product-sustainability">
                                <i class="fas fa-leaf"></i>
                                <span>300g waste saved</span>
                            </div>
                            <div class="item-actions" style="display:flex;gap:10px;margin-top:12px;">
                              <a href="configure.html" class="item-btn primary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#111;color:#fff;">Add to Bag</a>
                              <a href="configure.html" class="item-btn secondary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#fff;color:#111;border:1px solid #e0e0e0;">Customize</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 4 -->
                    <div class="product-card" data-collection="artisan" data-material="cotton" data-color="natural" data-use-case="work">
                        <div class="product-img">
                            <a href="configure.html"><img src="https://images.unsplash.com/photo-1491637639811-60e2756cc1c7?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="Artisan Laptop Sleeve"></a>
                            <div class="quick-actions">
                                <a href="../tryon/index.html" class="quick-action-btn" title="Try On">
                                    <i class="fas fa-tshirt"></i>
                                </a>
                                <a href="#" class="quick-action-btn" title="Add to Wishlist">
                                    <i class="far fa-heart"></i>
                                </a>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">Artisan Laptop Sleeve</h3>
                            <p class="product-material">Reclaimed Cotton</p>
                            <div class="product-rating">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                                <span class="rating-count">(12)</span>
                            </div>
                            <div class="product-price">
                                <span class="current-price">$59.00</span>
                            </div>
                            <div class="product-sustainability">
                                <i class="fas fa-leaf"></i>
                                <span>200g waste saved</span>
                            </div>
                            <div class="item-actions" style="display:flex;gap:10px;margin-top:12px;">
                              <a href="configure.html" class="item-btn primary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#111;color:#fff;">Add to Bag</a>
                              <a href="configure.html" class="item-btn secondary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#fff;color:#111;border:1px solid #e0e0e0;">Customize</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 5 -->
                    <div class="product-card" data-collection="heritage" data-material="hemp" data-color="earth" data-use-case="life">
                        <div class="product-img">
                            <a href="configure.html"><img src="https://images.unsplash.com/photo-1547949003-9792a18a2601?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="Heritage Weekender"></a>
                            <div class="quick-actions">
                                <a href="../tryon/index.html" class="quick-action-btn" title="Try On">
                                    <i class="fas fa-tshirt"></i>
                                </a>
                                <a href="#" class="quick-action-btn" title="Add to Wishlist">
                                    <i class="far fa-heart"></i>
                                </a>
                            </div>
                        </div>
                        <div class="product-info">
                            <div class="product-badge sale">Sale</div>
                            <h3 class="product-name">Heritage Weekender</h3>
                            <p class="product-material">Hemp Blend</p>
                            <div class="product-rating">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="rating-count">(8)</span>
                            </div>
                            <div class="product-price">
                                <span class="current-price">$149.00</span>
                                <span class="original-price">$199.00</span>
                            </div>
                            <div class="product-sustainability">
                                <i class="fas fa-leaf"></i>
                                <span>1.2kg waste saved</span>
                            </div>
                            <div class="item-actions" style="display:flex;gap:10px;margin-top:12px;">
                              <a href="configure.html" class="item-btn primary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#111;color:#fff;">Add to Bag</a>
                              <a href="configure.html" class="item-btn secondary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#fff;color:#111;border:1px solid #e0e0e0;">Customize</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 6 -->
                    <div class="product-card" data-collection="summer" data-material="bamboo" data-color="indigo" data-use-case="play">
                        <div class="product-img">
                            <a href="configure.html"><img src="https://images.unsplash.com/photo-1575486234793-6c8e816fce4f?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="Summer Mini Tote"></a>
                            <div class="quick-actions">
                                <a href="../tryon/index.html" class="quick-action-btn" title="Try On">
                                    <i class="fas fa-tshirt"></i>
                                </a>
                                <a href="#" class="quick-action-btn" title="Add to Wishlist">
                                    <i class="far fa-heart"></i>
                                </a>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">Summer Mini Tote</h3>
                            <p class="product-material">Bamboo Fiber</p>
                            <div class="product-rating">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                                <span class="rating-count">(15)</span>
                            </div>
                            <div class="product-price">
                                <span class="current-price">$69.00</span>
                            </div>
                            <div class="product-sustainability">
                                <i class="fas fa-leaf"></i>
                                <span>250g waste saved</span>
                            </div>
                            <div class="item-actions" style="display:flex;gap:10px;margin-top:12px;">
                              <a href="configure.html" class="item-btn primary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#111;color:#fff;">Add to Bag</a>
                              <a href="configure.html" class="item-btn secondary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;text-decoration:none;background:#fff;color:#111;border:1px solid #e0e0e0;">Customize</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Pagination -->
            <div class="pagination">
                <a href="#" class="active">1</a>
                <a href="#">2</a>
                <a href="#">3</a>
                <a href="#"><i class="fas fa-chevron-right"></i></a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="luxury-footer">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-column">
            <h4>Help</h4>
            <ul class="footer-links">
              <li><a href="#">Client Advisor: 1800 814 930</a></li>
              <li><a href="#">FAQ</a></li>
              <li><a href="#">Product Care</a></li>
              <li><a href="#">Delivery, Returns & Exchanges</a></li>
              <li><a href="#">Stores</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>Services</h4>
            <ul class="footer-links">
              <li><a href="#">Repairs</a></li>
              <li><a href="#">Personalisation</a></li>
              <li><a href="#">Art of Gifting</a></li>
              <li><a href="#">Download our Apps</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>About Reweave</h4>
            <ul class="footer-links">
              <li><a href="../story/index.html">Fashion & Craft</a></li>
              <li><a href="../culture/index.html">Arts & Culture</a></li>
              <li><a href="../story/index.html">Our Maison</a></li>
              <li><a href="../impact/index.html">Sustainability</a></li>
              <li><a href="../journal/index.html">Latest News</a></li>
              <li><a href="../story/index.html#careers">Careers</a></li>
              <li><a href="../community/index.html">Foundation</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>Connect</h4>
            <ul class="footer-links">
              <li><a href="#">Sign up for emails</a></li>
              <li><a href="#">Follow Us</a></li>
            </ul>
          </div>
        </div>
    
        <div class="footer-sub">
          <div class="footer-locale">Ship to: <a href="#">Malaysia</a></div>
          <div class="footer-legal">
            <a href="#">Sitemap</a>
            <a href="#">Legal & Privacy</a>
          </div>
        </div>
    
        <div class="footer-brand">REWEAVE</div>
      </div>
    </footer>

    <script src="../../js/main.js"></script>
    <script src="../../script.js"></script>
    <script>
      // Dynamic Shop Page Logic
      document.addEventListener('DOMContentLoaded', () => {
        const API_PRODUCTS = 'http://localhost:3001/api/products';
        const productsGrid = document.getElementById('products-grid');
        const searchInput = document.getElementById('search-input');
        const sortSelect = document.getElementById('sort-select');
        const viewButtons = document.querySelectorAll('.view-btn');
        const resultsCount = document.getElementById('results-count');
        const cartBtn = document.querySelector('.cart-btn');
        const cartDrawer = document.getElementById('cart-drawer');
        const cartBackdrop = document.getElementById('cart-backdrop');
        const cartClose = document.getElementById('cart-close');
        const cartItems = document.getElementById('cart-items');
        const cartSubtotal = document.getElementById('cart-subtotal');

        let allProducts = [];
        let filteredProducts = [];

        // Helpers
        const slug = s => (s || '').toString().toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/^-|-$|_/g,'');
        const getCart = () => JSON.parse(localStorage.getItem('cart') || '[]');
        const setCart = c => localStorage.setItem('cart', JSON.stringify(c));
        const formatMYR = v => `RM ${Number(v || 0).toFixed(2)}`;

        function updateCartCount() {
          const cart = getCart();
          const count = cart.reduce((sum, i) => sum + (i.qty || 1), 0);
          const el = document.querySelector('.cart-count');
          if (el) el.textContent = count;
        }

        function renderCartDrawer() {
          const cart = getCart();
          if (!cart.length) {
            cartItems.innerHTML = '<p style="color:#777">Your bag is empty.</p>';
            cartSubtotal.textContent = formatMYR(0);
            return;
          }
          let total = 0;
          cartItems.innerHTML = cart.map(i => {
            const line = (i.price || 0) * (i.qty || 1);
            total += line;
            return `
              <div class="cart-item">
                <img src="${i.image}" alt="${i.name}">
                <div>
                  <h4>${i.name}</h4>
                  ${i.options ? `<div class="options">${i.options}</div>` : ''}
                  <div class="qty">Qty: ${i.qty || 1}</div>
                </div>
                <div class="price">${formatMYR(line)}</div>
              </div>
            `;
          }).join('');
          cartSubtotal.textContent = formatMYR(total);
        }

        function openCart() { cartDrawer.classList.add('open'); cartBackdrop.classList.add('show'); cartDrawer.setAttribute('aria-hidden','false'); renderCartDrawer(); }
        function closeCart() { cartDrawer.classList.remove('open'); cartBackdrop.classList.remove('show'); cartDrawer.setAttribute('aria-hidden','true'); }

        cartBtn?.addEventListener('click', openCart);
        cartClose.addEventListener('click', closeCart);
        cartBackdrop.addEventListener('click', closeCart);

        function buildCard(p) {
          const minVariant = (p.variants || [])[0] || { price: p.price || 0, options: {}, sku: p.id };
          const minPrice = (p.variants || []).reduce((m, v) => Math.min(m, Number(v.price || 0)), Number(minVariant.price || 0));
          const firstImage = (p.images && p.images[0]) || 'https://via.placeholder.com/600x600?text=Reweave';
          const collection = slug((p.categories && p.categories[0]) || 'all');
          const color = slug((minVariant.options && (minVariant.options.Color || minVariant.options.color)) || 'multi');
          const detailHref = `product-detail.html?sku=${encodeURIComponent(minVariant.sku || p.id)}`;

          const wrapper = document.createElement('div');
          wrapper.className = 'product-card';
          wrapper.dataset.collection = collection;
          wrapper.dataset.color = color;
          wrapper.innerHTML = `
            <div class="product-img">
              <a href="${detailHref}"><img src="${firstImage}" alt="${p.name}"></a>
              <div class="quick-actions">
                <a href="../tryon/index.html" class="quick-action-btn" title="Try On"><i class="fas fa-tshirt"></i></a>
                <button class="quick-action-btn" title="Add to Wishlist"><i class="far fa-heart"></i></button>
              </div>
            </div>
            <div class="product-info">
              <h3 class="product-name"><a href="${detailHref}" style="color:inherit;text-decoration:none;">${p.name}</a></h3>
              <p class="product-material">${(p.description || '').slice(0,80)}</p>
              <div class="product-price"><span class="current-price">${formatMYR(minPrice)}</span></div>
              <div class="item-actions" style="display:flex;gap:10px;margin-top:12px;">
                <button class="item-btn primary add-to-bag" data-id="${p.id}" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;background:#111;color:#fff;">Add to Bag</button>
                <a href="${detailHref}" class="item-btn secondary" style="display:inline-block;padding:8px 12px;border-radius:8px;font-size:0.9rem;background:#fff;color:#111;border:1px solid #e0e0e0;">View</a>
              </div>
            </div>
          `;

          // Make the whole card clickable (excluding interactive elements)
          wrapper.style.cursor = 'pointer';
          wrapper.addEventListener('click', function(e) {
            const isInteractive = !!(e.target.closest('button') || e.target.closest('a') || e.target.closest('.quick-actions'));
            if (isInteractive) return;
            window.location.href = detailHref;
          });

          const addBtn = wrapper.querySelector('.add-to-bag');
          addBtn.addEventListener('click', () => {
            const cart = getCart();
            const options = [];
            if (minVariant.options) {
              Object.entries(minVariant.options).forEach(([k,v]) => options.push(`${k}: ${v}`));
            }
            const item = {
              id: minVariant.sku || p.id,
              name: p.name,
              price: Number(minVariant.price || minPrice),
              qty: 1,
              image: firstImage,
              options: options.join('  '),
              addon: false
            };
            const existing = cart.find(i => i.id === item.id && i.options === item.options);
            if (existing) existing.qty += 1; else cart.push(item);
            setCart(cart);
            updateCartCount();
            openCart();
          });

          return wrapper;
        }

        function renderProducts(list) {
          productsGrid.innerHTML = '';
          if (!list.length) {
            productsGrid.innerHTML = `
              <div class="no-results">
                <i class="fas fa-search"></i>
                <h3>No products found</h3>
                <p>Try adjusting your search or sort</p>
              </div>`;
            resultsCount.textContent = '0 products found';
            return;
          }
          list.forEach(p => productsGrid.appendChild(buildCard(p)));
          resultsCount.textContent = `${list.length} product${list.length !== 1 ? 's' : ''} found`;
        }

        function applySearchSort() {
          const term = (searchInput.value || '').toLowerCase();
          filteredProducts = allProducts.filter(p => {
            const hay = [p.name, p.description, ...(p.tags || []), ...(p.categories || [])].join(' ').toLowerCase();
            return hay.includes(term);
          });
          const mode = sortSelect.value;
          filteredProducts.sort((a,b) => {
            const aMin = (a.variants||[]).reduce((m,v)=>Math.min(m,Number(v.price||0)), Number((a.variants||[])[0]?.price||a.price||0));
            const bMin = (b.variants||[]).reduce((m,v)=>Math.min(m,Number(v.price||0)), Number((b.variants||[])[0]?.price||b.price||0));
            if (mode === 'price-low') return aMin - bMin;
            if (mode === 'price-high') return bMin - aMin;
            return 0; // featured/newest/popular not implemented yet
          });
          renderProducts(filteredProducts);
        }

        // View toggle
        viewButtons.forEach(btn => {
          btn.addEventListener('click', function() {
            viewButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            if (this.dataset.view === 'list') productsGrid.classList.add('list-view');
            else productsGrid.classList.remove('list-view');
          });
        });

        // Wire search/sort
        searchInput.addEventListener('input', applySearchSort);
        sortSelect.addEventListener('change', applySearchSort);

        // Initial fetch
        productsGrid.innerHTML = '<p style="color:#777">Loading products...</p>';
        fetch(API_PRODUCTS)
          .then(r => r.json())
          .then(data => {
            allProducts = Array.isArray(data) ? data : (data.products || []);
            applySearchSort();
          })
          .catch(err => {
            console.error('Failed to load products', err);
            productsGrid.innerHTML = '<p style="color:#c00">Failed to load products.</p>';
          })
          .finally(() => updateCartCount());

        function updateCartCount() { // ensure defined after fetch
          const cart = getCart();
          const count = cart.reduce((sum, i) => sum + (i.qty || 1), 0);
          const el = document.querySelector('.cart-count');
          if (el) el.textContent = count;
        }
      });
    </script>
</body>
</html>